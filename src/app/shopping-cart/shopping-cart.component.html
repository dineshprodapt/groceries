<div class="cart-container">
  <h3>Your Cart</h3>
  
  <div *ngIf="cartItems.length === 0" class="empty-cart">
    <img src="assets/images/empty-cart.jpg" alt="Empty cart" class="empty-cart-icon">
    <p>Your cart is empty</p>
    <button class="continue-shopping" routerLink="/">Continue Shopping</button>
  </div>
  
  <div *ngIf="cartItems.length > 0">
    <div class="cart-items">
      <div class="cart-item" *ngFor="let item of cartItems">
        <div class="item-image">
          <img [src]="item.product.image" [alt]="item.product.name">
        </div>
        
        <div class="item-details">
          <h3>{{item.product.name}}</h3>
          <!-- <p class="price">{{(item.product.value)}}</p> -->
          
          <div class="mobile-quantity-control">
            <button class="quantity-btn minus" (click)="updateQuantity(item.product.id, item.quantity - 1)">−</button>
           <!-- <input type="number" min="1" [value]="item.quantity" 
              (change)="updateQuantity(item.product.id, $any($event.target).value)"> -->
                <input #qtyInput
                    type="number" 
                    min="1" 
                    [max]="item.product.maxQuantity || 99"
                    [value]="item.quantity"
                    (change)="updateQuantity(item.product.id, qtyInput.value)"
                    (keydown)="validateNumberInput($event)">
               <button class="quantity-btn plus" 
                    (click)="updateQuantity(item.product.id, item.quantity + 1)"
                    [disabled]="item.quantity >= (item.product.maxQuantity || 99)">+</button>
          </div>
          
          <div class="item-actions">
            <button class="remove-item" (click)="removeFromCart(item.product.id)">
              Remove
            </button>
          </div>
        </div>
        
        <div class="item-total">
          {{(item.product.value)}}
        </div>
      </div>
    </div>
    
    <div class="cart-summary">
      <!-- <div class="summary-row">
        <span>Total Products Count: </span>
        <span>${{getTotalPrice().toFixed(2)}}</span>
      </div>
      <div class="summary-row">
        <span>Total Quantities Count: </span>
        <span>${{getTotalPrice().toFixed(2)}}</span>
      </div>
      <div class="summary-row total">
        <span>Total</span>
        <span>${{getTotalPrice().toFixed(2)}}</span>
      </div> -->
      
      <div class="cart-actions">
        <button class="clear-cart" (click)="clearCart()">
          Clear Cart
        </button>
        <button class="checkout-btn" (click)="sendToDinesh()">
          Send to Dinesh
        </button>
      </div>
    </div>
  </div>
</div>

<!-- <div class="cart-container">
  <h2>Your Shopping Cart</h2>
  
  <div *ngIf="cartItems.length === 0" class="empty-cart">
    Your cart is empty
  </div>
  
  <div *ngIf="cartItems.length > 0">
    <div class="cart-item" *ngFor="let item of cartItems">
      <div class="item-image">
        <img [src]="item.product.image" [alt]="item.product.name">
      </div>
      <div class="item-details">
        <h3>{{item.product.name}}</h3>
      </div>
      <div class="item-quantity">
        <input 
          type="number" 
          min="1" 
          [value]="item.quantity" 
          (change)="updateQuantity(item.product.id, $event)">
      </div>

      <div class="item-remove">
        <button (click)="removeItem(item.product.id)">×</button>
      </div>
    </div>
    
    <div class="cart-summary">
      <div class="total">
        <strong>Total: ${{getTotalPrice().toFixed(2)}}</strong>
      </div>
      <div class="actions">
        <button (click)="clearCart()">Clear Cart</button>
        <button class="checkout">Checkout</button>
      </div>
    </div>
  </div>
</div> -->